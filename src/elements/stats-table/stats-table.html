<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../stats-item/stats-item.html">

<dom-module id="stats-table">
  <template>
    <div class="table">
      <div class="header-row">
        <div class="header">Tag Name</div>
        <div class="header">Count</div>
        <div class="header">Total Time</div>
        <div class="header">Created</div>
        <div class="header">Attached</div>
        <div class="header">Detached</div>
        <div class="header">Attributes</div>
        <div class="header">Data</div>
      </div>
      <template is="dom-repeat" items="[[stats]]">
        <style>
          div.table {
            display: table;
            border-collapse: collapse;
            margin: 8px 0;
          }
          div.row, div.header-row {
            display: table-row;
          }
          div.row:hover {
            background-color: var(--paper-blue-100);
          }
          div.header, div.cell {
            display: table-cell;
            padding: 4px 8px;
            border: solid 1px #aaa;
            position: relative;
          }
          div.cell {
            text-align: right;
            @apply(--paper-font-code1);
            font-size: 10px;
          }
          div.header {
            @apply(--paper-font-body1);
            font-size: 10px;
          }
          .total {
            font-weight: bold !important;
          }
          .name {
            text-align: left;
            color: var(--paper-pink-700);
          }
        </style>
        <div class="row">
          <div class="cell name">{{item.tagName}}</div>
          <div class="cell">{{item.count}}</div>
          <stats-item item="[[item]]" metric="totalTime" stats="[[stats]]" all-tags-stats="[[allTagsStats]]" class="total"></stats-item>
          <stats-item item="[[item]]" metric="created" stats="[[stats]]" all-tags-stats="[[allTagsStats]]"></stats-item>
          <stats-item item="[[item]]" metric="attached" stats="[[stats]]" all-tags-stats="[[allTagsStats]]"></stats-item>
          <stats-item item="[[item]]" metric="detached" stats="[[stats]]" all-tags-stats="[[allTagsStats]]"></stats-item>
          <stats-item item="[[item]]" metric="attributeChanged" stats="[[stats]]" all-tags-stats="[[allTagsStats]]"></stats-item>
          <stats-item item="[[item]]" metric="data" stats="[[stats]]" all-tags-stats="[[allTagsStats]]"></stats-item>
        </div>
      </template>
    </div>
  </template>

  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'stats-table',
        properties: {
          stats: Array,
          allTagsStats: Object
        }
      });
    })();
  </script>
</dom-module>
